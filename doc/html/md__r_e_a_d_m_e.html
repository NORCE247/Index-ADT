<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Exam: Readme</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Exam
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Readme </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A quick readme to get started with compiling and running the exam source.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Compiling</h1>
<p>To compile the program run the <code>Makefile</code> using <code>make</code>. This should generate three targets target called <code>index</code>, <code>test_index</code> and <code>bench_index</code>. The <code>index</code> executable needs a single argument: a directory containing text files to index.</p>
<p>The only library required for compilation is <code>ncurses</code>.</p>
<p>For Linux (and <code>wsl</code>) you may need to update the package index first. Curses can then be installed with: </p><div class="fragment"><div class="line">sudo apt update</div>
<div class="line">sudo apt install libncurses-dev</div>
</div><!-- fragment --><p>On MacOS it is available through homebrew: </p><div class="fragment"><div class="line">brew install ncurses</div>
</div><!-- fragment --><p>Cygwin should come preinstalled with ncurses, if not, use the cygwin installer.</p>
<h3><a class="anchor" id="autotoc_md2"></a>
Warning</h3>
<p>If you have not implemented the index yet, the program might not run correctly. Don't panic, the UI should work once you've implemented the index.</p>
<p>If you find bugs in the precode however, contact one of the course staff so that we can correct it, and we will publish an updated precode if necessary.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
C Standard</h2>
<p>The precode uses the <code>gnu17</code> C dialect.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Running the program</h1>
<p>The program can be run using <code>./index data/</code> to use the text files contained in the data folder. Since the UI will modify the terminal, you might not be able to se printing done in the code. If you want to examine debug messages, you can use the <code>DEBUG_PRINT</code> function and pipe the <code>stderr</code> file to a separate log file like so:</p>
<div class="fragment"><div class="line">./index data/ 2&gt; log.txt</div>
</div><!-- fragment --><p>This will put all your debug prints into <code>log.txt</code>. Beware that any prints done with <code>printf</code> or <code>INFO_PRINT</code> are done via <code>stdout</code>, and will not be piped to the log file.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Generating the precode documentation</h1>
<p>The documentation for the precode follows the doxygen JAVADOC format. Which means you can generate an <code>html</code> version of the documentation using <code>Doxygen</code>.</p>
<p>For Windows it is easiest to install <code>Doxywizard</code> and open the included <code>Doxyfile</code>. (<a href="https://www.doxygen.nl/download.html#srcbin">https://www.doxygen.nl/download.html#srcbin</a>) On Mac it is available through homebrew as <code>doxygen</code>. </p><div class="fragment"><div class="line">brew install doxygen</div>
</div><!-- fragment --><p>On Linux it is available through universe as <code>doxygen</code> </p><div class="fragment"><div class="line">sudo apt install doxygen</div>
</div><!-- fragment --><p>Using the command </p><div class="fragment"><div class="line">doxygen</div>
</div><!-- fragment --><p>In the same directory as the <code>Doxyfile</code> will generate a new directory called <code>doc/</code>. This directory contains an <code>html/</code> and a <code>latex/</code>. The <code>html/</code> folder contains the file <code>index.html</code> which will open an interactive documentation in a browser.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Running unit tests and benchmarks</h1>
<p>There are 3 make targets that help running unit tests and benchmarks for your code:</p>
<ul>
<li><code>make test</code> builds the unit test program <code>test_index</code></li>
<li><code>make bench</code> builds the benchmark program <code>bench_index</code></li>
<li><code>make run</code> builds and runs the unit test and benchmark program (outputting benchmarks to <code>bench.txt</code>)</li>
</ul>
<p>Both programs can be built and run separately. The benchmark program accepts two command line arguments:</p>
<div class="fragment"><div class="line">./bench_index &lt;n words&gt; &lt;n runs&gt;</div>
</div><!-- fragment --><p>Which will tell the program how many words to insert into the index, and how many times the benchmark should run (doubling <code>nwords</code> for each run).</p>
<p>It is recommeded to redirect <code>stdout</code> to a file, to get the benchmark data:</p>
<div class="fragment"><div class="line">./bench_index 100000 10 1&gt; benchmark.txt</div>
</div><!-- fragment --><p>The "unit" test program will try to call the <code>trie</code> and <code>index</code> functions and test rudimentry functionality. It will report any SEGFAULTS that it encounters as well. Beware, continuing to run a program after a segfault may result in undefined behaviour. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
