A quick readme to get started with compiling and running the exam source.\hypertarget{md__r_e_a_d_m_e_autotoc_md1}{}\doxysection{Compiling}\label{md__r_e_a_d_m_e_autotoc_md1}
To compile the program run the {\ttfamily Makefile} using {\ttfamily make}. This should generate three targets target called {\ttfamily index}, {\ttfamily test\+\_\+index} and {\ttfamily bench\+\_\+index}. The {\ttfamily index} executable needs a single argument\+: a directory containing text files to index.

The only library required for compilation is {\ttfamily ncurses}.

For Linux (and {\ttfamily wsl}) you may need to update the package index first. Curses can then be installed with\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{sudo apt update}
\DoxyCodeLine{sudo apt install libncurses-\/dev}
\end{DoxyCode}


On Mac\+OS it is available through homebrew\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{brew install ncurses}
\end{DoxyCode}


Cygwin should come preinstalled with ncurses, if not, use the cygwin installer.\hypertarget{md__r_e_a_d_m_e_autotoc_md2}{}\doxysubsubsection{Warning}\label{md__r_e_a_d_m_e_autotoc_md2}
If you have not implemented the index yet, the program might not run correctly. Don\textquotesingle{}t panic, the UI should work once you\textquotesingle{}ve implemented the index.

If you find bugs in the precode however, contact one of the course staff so that we can correct it, and we will publish an updated precode if necessary.\hypertarget{md__r_e_a_d_m_e_autotoc_md3}{}\doxysubsection{C Standard}\label{md__r_e_a_d_m_e_autotoc_md3}
The precode uses the {\ttfamily gnu17} C dialect.\hypertarget{md__r_e_a_d_m_e_autotoc_md4}{}\doxysection{Running the program}\label{md__r_e_a_d_m_e_autotoc_md4}
The program can be run using {\ttfamily ./index data/} to use the text files contained in the data folder. Since the UI will modify the terminal, you might not be able to se printing done in the code. If you want to examine debug messages, you can use the {\ttfamily D\+E\+B\+U\+G\+\_\+\+P\+R\+I\+NT} function and pipe the {\ttfamily stderr} file to a separate log file like so\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{./index data/ 2> log.txt}
\end{DoxyCode}


This will put all your debug prints into {\ttfamily log.\+txt}. Beware that any prints done with {\ttfamily printf} or {\ttfamily I\+N\+F\+O\+\_\+\+P\+R\+I\+NT} are done via {\ttfamily stdout}, and will not be piped to the log file.\hypertarget{md__r_e_a_d_m_e_autotoc_md5}{}\doxysection{Generating the precode documentation}\label{md__r_e_a_d_m_e_autotoc_md5}
The documentation for the precode follows the doxygen J\+A\+V\+A\+D\+OC format. Which means you can generate an {\ttfamily html} version of the documentation using {\ttfamily Doxygen}.

For Windows it is easiest to install {\ttfamily Doxywizard} and open the included {\ttfamily Doxyfile}. (\href{https://www.doxygen.nl/download.html\#srcbin}{\texttt{ https\+://www.\+doxygen.\+nl/download.\+html\#srcbin}}) On Mac it is available through homebrew as {\ttfamily doxygen}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{brew install doxygen}
\end{DoxyCode}


On Linux it is available through universe as {\ttfamily doxygen} 
\begin{DoxyCode}{0}
\DoxyCodeLine{sudo apt install doxygen}
\end{DoxyCode}


Using the command 
\begin{DoxyCode}{0}
\DoxyCodeLine{doxygen}
\end{DoxyCode}


In the same directory as the {\ttfamily Doxyfile} will generate a new directory called {\ttfamily doc/}. This directory contains an {\ttfamily html/} and a {\ttfamily latex/}. The {\ttfamily html/} folder contains the file {\ttfamily index.\+html} which will open an interactive documentation in a browser.\hypertarget{md__r_e_a_d_m_e_autotoc_md6}{}\doxysection{Running unit tests and benchmarks}\label{md__r_e_a_d_m_e_autotoc_md6}
There are 3 make targets that help running unit tests and benchmarks for your code\+:


\begin{DoxyItemize}
\item {\ttfamily make test} builds the unit test program {\ttfamily test\+\_\+index}
\item {\ttfamily make bench} builds the benchmark program {\ttfamily bench\+\_\+index}
\item {\ttfamily make run} builds and runs the unit test and benchmark program (outputting benchmarks to {\ttfamily bench.\+txt})
\end{DoxyItemize}

Both programs can be built and run separately. The benchmark program accepts two command line arguments\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{./bench\_index <n words> <n runs>}
\end{DoxyCode}


Which will tell the program how many words to insert into the index, and how many times the benchmark should run (doubling {\ttfamily nwords} for each run).

It is recommeded to redirect {\ttfamily stdout} to a file, to get the benchmark data\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{./bench\_index 100000 10 1> benchmark.txt}
\end{DoxyCode}


The \char`\"{}unit\char`\"{} test program will try to call the {\ttfamily trie} and {\ttfamily index} functions and test rudimentry functionality. It will report any S\+E\+G\+F\+A\+U\+L\+TS that it encounters as well. Beware, continuing to run a program after a segfault may result in undefined behaviour. 